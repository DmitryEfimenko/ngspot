"use strict";(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[919],{5919:(c,s,e)=>{e.r(s),e.d(s,{default:()=>O});var r=e(6895),m=e(4006),i=e(7273),_=e(2498),v=e(247),n=e(4650);function N(a,t){if(1&a){const o=n.EpF();n.ynx(0),n.TgZ(1,"ngs-counter",2),n.NdJ("ngModelChange",function(p){n.CHM(o);const u=n.oxw();return n.KtG(u.count=p)}),n.qZA(),n.TgZ(2,"pre",3),n._uU(3),n.ALo(4,"json"),n.qZA(),n.BQk()}if(2&a){const o=n.oxw();n.xp6(1),n.Q6J("ngModel",o.count),n.xp6(2),n.hij("value: ",n.lcZ(4,2,o.count),"")}}const T=e(4187).Z,M=e(4691).Z;class d{constructor(){this.count=0,this.snippets={counter:[{fileName:"app.component.ts",content:T,language:"typescript"},{fileName:"counter.component.ts",content:M,language:"typescript"}]}}}function A(a,t){if(1&a){const o=n.EpF();n.ynx(0),n.TgZ(1,"ngs-full-name",2,3),n.NdJ("ngModelChange",function(p){n.CHM(o);const u=n.oxw();return n.KtG(u.name=p)}),n.qZA(),n.TgZ(3,"pre",4),n._uU(4),n.ALo(5,"json"),n.ALo(6,"json"),n.qZA(),n.BQk()}if(2&a){const o=n.MAs(2),l=n.oxw();n.xp6(1),n.Q6J("ngModel",l.name),n.xp6(3),n.AsE("value: ",n.lcZ(5,3,l.name),",\nerrors: ",n.lcZ(6,5,o.errors),"\n    ")}}d.\u0275fac=function(t){return new(t||d)},d.\u0275cmp=n.Xpm({type:d,selectors:[["ngs-counter-demo"]],standalone:!0,features:[n.jDz],decls:4,vars:1,consts:[["title","Counter",3,"snippets"],[4,"ngsSnippetResult"],[3,"ngModel","ngModelChange"],["ngsHighlightContent","",1,"mt-2"]],template:function(t,o){1&t&&(n.TgZ(0,"h2"),n._uU(1,"Counter"),n.qZA(),n.TgZ(2,"ngs-code-snippets",0),n.YNc(3,N,5,4,"ng-container",1),n.qZA()),2&t&&(n.xp6(2),n.Q6J("snippets",o.snippets.counter))},dependencies:[r.ez,r.Ts,m.u5,m.JJ,m.On,i.rM,i.I6,v.RU,_.K],styles:["button{background-color:#757597;padding:.25rem .5rem;border-radius:3px}"]});const h=e(6711).Z,F=e(7437).Z;class g{constructor(){this.snippets={fullName:[{fileName:"app.component.ts",content:h,language:"typescript"},{fileName:"full-name.component.ts",content:F,language:"typescript"}]}}}function Z(a,t){if(1&a){const o=n.EpF();n.ynx(0),n.TgZ(1,"div"),n._uU(2," Variant "),n.TgZ(3,"label")(4,"input",2),n.NdJ("ngModelChange",function(p){n.CHM(o);const u=n.oxw();return n.KtG(u.variant=p)}),n.qZA(),n._uU(5," 1 "),n.qZA(),n.TgZ(6,"label")(7,"input",2),n.NdJ("ngModelChange",function(p){n.CHM(o);const u=n.oxw();return n.KtG(u.variant=p)}),n.qZA(),n._uU(8," 2 "),n.qZA()(),n.TgZ(9,"ngs-nested",3,4),n.NdJ("ngModelChange",function(p){n.CHM(o);const u=n.oxw();return n.KtG(u.value=p)}),n.qZA(),n.TgZ(11,"pre",5),n._uU(12),n.ALo(13,"json"),n.ALo(14,"json"),n.qZA(),n.BQk()}if(2&a){const o=n.MAs(10),l=n.oxw();n.xp6(4),n.Q6J("value",1)("ngModel",l.variant),n.xp6(3),n.Q6J("value",2)("ngModel",l.variant),n.xp6(2),n.Q6J("variant",l.variant)("ngModel",l.value),n.xp6(3),n.AsE("value: ",n.lcZ(13,8,l.value),",\nerrors: ",n.lcZ(14,10,o.errors),"\n    ")}}g.\u0275fac=function(t){return new(t||g)},g.\u0275cmp=n.Xpm({type:g,selectors:[["ngs-full-name-demo"]],standalone:!0,features:[n.jDz],decls:4,vars:2,consts:[["title","Full name",3,"snippets","expanded"],[4,"ngsSnippetResult"],[3,"ngModel","ngModelChange"],["valueControl","ngModel"],["ngsHighlightContent","",1,"mt-2"]],template:function(t,o){1&t&&(n.TgZ(0,"h2"),n._uU(1,"Full name"),n.qZA(),n.TgZ(2,"ngs-code-snippets",0),n.YNc(3,A,7,7,"ng-container",1),n.qZA()),2&t&&(n.xp6(2),n.Q6J("snippets",o.snippets.fullName)("expanded",!1))},dependencies:[r.ez,r.Ts,m.u5,m.JJ,m.On,i.rM,i.I6,v.Qm,_.K],styles:["input{color:#000}"]});const x=e(8988).Z,y=e(4389).Z,D=e(8996).Z;class f{constructor(){this.variant=1,this.snippets={nested:[{fileName:"app.component.ts",content:x,language:"typescript"},{fileName:"nested.component.ts",content:y,language:"typescript"},{fileName:"one-input.component.ts",content:D,language:"typescript"}]}}}f.\u0275fac=function(t){return new(t||f)},f.\u0275cmp=n.Xpm({type:f,selectors:[["ngs-nested-demo"]],standalone:!0,features:[n.jDz],decls:4,vars:2,consts:[["title","Nested",3,"snippets","expanded"],[4,"ngsSnippetResult"],["type","radio","name","variant",3,"value","ngModel","ngModelChange"],[3,"variant","ngModel","ngModelChange"],["valueControl","ngModel"],["ngsHighlightContent","",1,"mt-2"]],template:function(t,o){1&t&&(n.TgZ(0,"h2"),n._uU(1,"Nested"),n.qZA(),n.TgZ(2,"ngs-code-snippets",0),n.YNc(3,Z,15,12,"ng-container",1),n.qZA()),2&t&&(n.xp6(2),n.Q6J("snippets",o.snippets.nested)("expanded",!1))},dependencies:[r.ez,r.Ts,m.u5,m.Fj,m._,m.JJ,m.On,i.rM,i.I6,v.tO,_.K],styles:["input{color:#000}label[_ngcontent-%COMP%]{margin:.5rem}"]});var w=e(8034);class C{}C.\u0275fac=function(t){return new(t||C)},C.\u0275cmp=n.Xpm({type:C,selectors:[["ngs-ng-superclass-demo"]],standalone:!0,features:[n.jDz],decls:4,vars:0,template:function(t,o){1&t&&(n.TgZ(0,"ngs-demo-main-content"),n._UZ(1,"ngs-counter-demo")(2,"ngs-full-name-demo")(3,"ngs-nested-demo"),n.qZA())},dependencies:[r.ez,w._,d,g,f],changeDetection:0});const O=[{path:"",component:C},{path:"",redirectTo:"",pathMatch:"full"}]},4187:(c,s,e)=>{e.d(s,{Z:()=>r});const r="@Component({\r\n  selector: 'app-consumer',\r\n  template: `\r\n    <app-counter [(ngModel)]=\"count\" />\r\n    <pre>value: {{ count | json }}</pre>\r\n  `,\r\n})\r\nexport class AppComponent {\r\n  count = 0\r\n}\r\n"},4691:(c,s,e)=>{e.d(s,{Z:()=>r});const r="import { Component } from '@angular/core';\r\nimport { FormControl } from '@angular/forms';\r\nimport { FormComponentSuperclass } from '@ngspot/ng-superclass';\r\n\r\n@Component({\r\n  selector: 'app-counter',\r\n  standalone: true,\r\n  template: `\r\n    <button (click)=\"increment()\" (blur)=\"onTouched()\">\r\n      {{ viewModel.value }}\r\n    </button>\r\n  `,\r\n})\r\nexport class CounterComponent extends FormComponentSuperclass<number> {\r\n  override viewModel = new FormControl(0, { nonNullable: true });\r\n\r\n  increment() {\r\n    this.viewModel.setValue(this.viewModel.value + 1);\r\n  }\r\n}\r\n"},6711:(c,s,e)=>{e.d(s,{Z:()=>r});const r='@Component({\r\n  selector: \'app-consumer\',\r\n  template: `\r\n    <app-full-name [(ngModel)]="fullName" #valueControl="ngModel" />\r\n    <pre>\r\n      value: {{ fullName | json }},\r\n      errors: {{ valueControl.errors | json }},\r\n    </pre>\r\n  `,\r\n})\r\nexport class AppComponent {\r\n  fullName: string;\r\n}\r\n'},7437:(c,s,e)=>{e.d(s,{Z:()=>r});const r="import { ChangeDetectionStrategy, Component } from '@angular/core';\r\nimport {\r\n  AbstractControl,\r\n  FormControl,\r\n  FormGroup,\r\n  ReactiveFormsModule,\r\n  ValidatorFn,\r\n} from '@angular/forms';\r\nimport { Observable } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\nimport { FormComponentSuperclass } from '@ngspot/ng-superclass';\r\n\r\ntype OuterType = string | undefined;\r\ntype InnerType = {\r\n  firstName: string;\r\n  lastName: string;\r\n};\r\n\r\n@Component({\r\n  selector: 'app-full-name',\r\n  standalone: true,\r\n  imports: [ReactiveFormsModule],\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  template: `\r\n    <form [formGroup]=\"viewModel\">\r\n      <input formControlName=\"firstName\" placeholder=\"First name\" />\r\n      &nbsp;\r\n      <input formControlName=\"lastName\" placeholder=\"Last name\" />\r\n    </form>\r\n  `,\r\n})\r\nexport class FullNameReactiveComponent extends FormComponentSuperclass<\r\n  OuterType,\r\n  InnerType\r\n> {\r\n  override viewModel = new FormGroup(\r\n    {\r\n      firstName: new FormControl('', { nonNullable: true }),\r\n      lastName: new FormControl('', { nonNullable: true }),\r\n    },\r\n    { validators: FirstAndLastNameValidator() }\r\n  );\r\n\r\n  override outerToInner = (fullName$: Observable<OuterType>) =>\r\n    fullName$.pipe(\r\n      map((fullName) => {\r\n        const [firstName, lastName] = (fullName ?? '').split(' ');\r\n        const inner: InnerType = {\r\n          firstName: firstName ?? '',\r\n          lastName: lastName ?? '',\r\n        };\r\n        return inner;\r\n      })\r\n    );\r\n\r\n  override innerToOuter = (innerValues$: Observable<InnerType>) =>\r\n    innerValues$.pipe(\r\n      map(({ firstName, lastName }) => {\r\n        let result = '';\r\n        if (firstName) {\r\n          result += firstName;\r\n        }\r\n        if (lastName) {\r\n          result += ` ${lastName}`;\r\n        }\r\n        return result;\r\n      })\r\n    );\r\n\r\n  override validate(control: AbstractControl<OuterType>) {\r\n    if (!control.value) {\r\n      return null;\r\n    }\r\n    return this.viewModel.errors;\r\n  }\r\n}\r\n\r\nconst allowedNames: InnerType[] = [\r\n  { firstName: 'Bob', lastName: 'Swagger' },\r\n  { firstName: 'Jack', lastName: 'Reacher' },\r\n];\r\n\r\nfunction FirstAndLastNameValidator(): ValidatorFn {\r\n  return (control: AbstractControl<InnerType>) => {\r\n    const error = isFirstAndLastNameValid(control.value)\r\n      ? null\r\n      : {\r\n          notAllowedName: {\r\n            actual: control.value,\r\n            allowed: allowedNames,\r\n          },\r\n        };\r\n    return error;\r\n  };\r\n}\r\n\r\nfunction isFirstAndLastNameValid({ firstName, lastName }: InnerType): boolean {\r\n  return allowedNames.some(\r\n    (allowed) =>\r\n      allowed.firstName === firstName && allowed.lastName === lastName\r\n  );\r\n}\r\n"},8988:(c,s,e)=>{e.d(s,{Z:()=>r});const r='@Component({\r\n  selector: \'app-consumer\',\r\n  template: `\r\n    <div>\r\n      Variant\r\n      <label>\r\n        <input type="radio" [value]="1" name="variant" [(ngModel)]="variant" />\r\n        1\r\n      </label>\r\n\r\n      <label>\r\n        <input type="radio" [value]="2" name="variant" [(ngModel)]="variant" />\r\n        2\r\n      </label>\r\n    </div>\r\n\r\n    <ngs-nested\r\n      [(ngModel)]="value"\r\n      [variant]="variant"\r\n      #valueControl="ngModel"\r\n    ></ngs-nested>\r\n\r\n    <pre>\r\n      value: {{ value | json }},\r\n      errors: {{ valueControl.errors | json }}\r\n    </pre>\r\n  `,\r\n})\r\nexport class AppComponent {\r\n  variant: 1 | 2 = 1;\r\n\r\n  value: string;\r\n}\r\n'},4389:(c,s,e)=>{e.d(s,{Z:()=>r});const r="import { CommonModule } from '@angular/common';\r\nimport { Component, Input } from '@angular/core';\r\nimport { AbstractControl, ReactiveFormsModule } from '@angular/forms';\r\nimport { FormComponentSuperclass } from '@ngspot/ng-superclass';\r\n\r\nimport { FullNameReactiveComponent } from './full-name-form-group.component';\r\nimport { OneInputComponent } from './one-input.component';\r\n\r\n@Component({\r\n  selector: 'app-nested',\r\n  standalone: true,\r\n  imports: [\r\n    CommonModule,\r\n    ReactiveFormsModule,\r\n    OneInputComponent,\r\n    FullNameReactiveComponent,\r\n  ],\r\n  template: `\r\n    <ng-container *ngIf=\"variant === 1; else variantTwo\">\r\n      <app-one-input [formControl]=\"ngControl.control\"></ngs-one-input>\r\n    </ng-container>\r\n\r\n    <ng-template #variantTwo>\r\n      <app-full-name [formControl]=\"ngControl.control\"></ngs-full-name>\r\n    </ng-template>\r\n  `,\r\n})\r\nexport class NestedComponent extends FormComponentSuperclass<string> {\r\n  @Input()\r\n  variant: 1 | 2 = 1;\r\n}\r\n"},8996:(c,s,e)=>{e.d(s,{Z:()=>r});const r="import { Component } from '@angular/core';\r\nimport { AbstractControl, ReactiveFormsModule } from '@angular/forms';\r\n\r\nimport { FormComponentSuperclass } from '@ngspot/ng-superclass';\r\n\r\ntype OuterType = string | undefined;\r\n\r\n@Component({\r\n  selector: 'app-one-input',\r\n  standalone: true,\r\n  imports: [ReactiveFormsModule],\r\n  template: `<input [formControl]=\"ngControl.control\" />`,\r\n})\r\nexport class OneInputComponent extends FormComponentSuperclass<OuterType> {\r\n  override validate(control: AbstractControl<OuterType>) {\r\n    if ((control.value?.length ?? 0) < 5) {\r\n      return { minlength: 5 };\r\n    }\r\n    return null;\r\n  }\r\n}\r\n"}}]);