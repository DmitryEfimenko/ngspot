"use strict";(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[482],{1482:(f,p,o)=>{o.r(p),o.d(p,{default:()=>_});var l=o(6895),t=o(4006),c=o(9549),M=o(7392),b=o(7273),v=o(2498),x=o(1281),e=o(4650),y=o(3238),T=o(247);class m extends T.LR{constructor(){super(...arguments),this.defaultErrorStateMatcher=(0,e.f3M)(y.rD),this.formField=(0,e.f3M)(c.G_,{optional:!0}),this._required=!1,this.errorState=!1,this.parentForm=(0,e.f3M)(t.F,{optional:!0}),this.parentFormGroup=(0,e.f3M)(t.sg,{optional:!0})}get placeholder(){return this._placeholder}set placeholder(n){this._placeholder=n,this.stateChanges.next()}get empty(){return!this.value}get shouldLabelFloat(){return this.focused||!this.empty}get required(){return this._required}set required(n){this._required=(0,x.Ig)(n),this.stateChanges.next()}ngDoCheck(){this.updateErrorState()}updateErrorState(){const n=this.ngControl?this.ngControl.control:null;if(!n)return;const r=this.errorState,i=(this.errorStateMatcher??this.defaultErrorStateMatcher).isErrorState(n,this.parentFormGroup??this.parentForm);i!==r&&(this.errorState=i,this.stateChanges.next())}}m.\u0275fac=function(){let a;return function(r){return(a||(a=e.n5z(m)))(r||m)}}(),m.\u0275dir=e.lG2({type:m,hostVars:2,hostBindings:function(n,r){2&n&&e.ekj("floating",r.shouldLabelFloat)},inputs:{errorStateMatcher:"errorStateMatcher",placeholder:"placeholder",required:"required",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},features:[e.qOj]});var I=o(4004);class C{constructor(n,r,s){this.area=n,this.exchange=r,this.subscriber=s}}const F=["area"],Z=["exchange"],E=["subscriber"];class u extends m{constructor(){super(...arguments),this._formBuilder=(0,e.f3M)(t.qu),this.viewModel=this._formBuilder.group({area:["",[t.kI.required,t.kI.minLength(3),t.kI.maxLength(3)]],exchange:["",[t.kI.required,t.kI.minLength(3),t.kI.maxLength(3)]],subscriber:["",[t.kI.required,t.kI.minLength(4),t.kI.maxLength(4)]]}),this.outerToInner=n=>n.pipe((0,I.U)(r=>r??new C("","","")))}get empty(){const{value:{area:n,exchange:r,subscriber:s}}=this.viewModel;return!n&&!r&&!s}autoFocusPrev(n,r){n.value.length<1&&this.focusMonitor.focusVia(r,"program")}setDescribedByIds(n){this.hostEl.querySelector(".example-tel-input-container")?.setAttribute("aria-describedby",n.join(" "))}onContainerClick(){this.focusMonitor.focusVia(this.viewModel.controls.subscriber.valid||this.viewModel.controls.exchange.valid?this.subscriberInput:this.viewModel.controls.area.valid?this.exchangeInput:this.areaInput,"program")}}function L(a,n){if(1&a){const r=e.EpF();e.ynx(0),e.TgZ(1,"mat-form-field")(2,"mat-label"),e._uU(3,"Phone number"),e.qZA(),e.TgZ(4,"ngs-tel-input",2),e.NdJ("ngModelChange",function(g){e.CHM(r);const i=e.oxw();return e.KtG(i.tel=g)}),e.qZA(),e.TgZ(5,"mat-icon",3),e._uU(6,"phone"),e.qZA(),e.TgZ(7,"mat-hint"),e._uU(8,"Include area code"),e.qZA()(),e.TgZ(9,"pre",4),e._uU(10),e.ALo(11,"json"),e.qZA(),e.BQk()}if(2&a){const r=e.oxw();e.xp6(4),e.Q6J("ngModel",r.tel),e.xp6(6),e.hij("value: ",e.lcZ(11,2,r.tel),"")}}u.\u0275fac=function(){let a;return function(r){return(a||(a=e.n5z(u)))(r||u)}}(),u.\u0275cmp=e.Xpm({type:u,selectors:[["ngs-tel-input"]],viewQuery:function(n,r){if(1&n&&(e.Gf(F,5),e.Gf(Z,5),e.Gf(E,5)),2&n){let s;e.iGM(s=e.CRH())&&(r.areaInput=s.first),e.iGM(s=e.CRH())&&(r.exchangeInput=s.first),e.iGM(s=e.CRH())&&(r.subscriberInput=s.first)}},standalone:!0,features:[e._Bn([{provide:c.Eo,useExisting:u}]),e.qOj,e.jDz],decls:11,vars:2,consts:[["role","group",1,"example-tel-input-container",3,"formGroup"],["formControlName","area","size","3","maxLength","3","aria-label","Area code",1,"example-tel-input-element"],["area",""],[1,"example-tel-input-spacer"],["formControlName","exchange","maxLength","3","size","3","aria-label","Exchange code",1,"example-tel-input-element",3,"keyup.backspace"],["exchange",""],["formControlName","subscriber","maxLength","4","size","4","aria-label","Subscriber number",1,"example-tel-input-element",3,"keyup.backspace"],["subscriber",""]],template:function(n,r){if(1&n){const s=e.EpF();e.TgZ(0,"div",0),e._UZ(1,"input",1,2),e.TgZ(3,"span",3),e._uU(4,"\u2013"),e.qZA(),e.TgZ(5,"input",4,5),e.NdJ("keyup.backspace",function(){e.CHM(s);const i=e.MAs(2);return e.KtG(r.autoFocusPrev(r.viewModel.controls.exchange,i))}),e.qZA(),e.TgZ(7,"span",3),e._uU(8,"\u2013"),e.qZA(),e.TgZ(9,"input",6,7),e.NdJ("keyup.backspace",function(){e.CHM(s);const i=e.MAs(6);return e.KtG(r.autoFocusPrev(r.viewModel.controls.subscriber,i))}),e.qZA()()}2&n&&(e.Q6J("formGroup",r.viewModel),e.uIk("aria-labelledby",null==r.formField?null:r.formField.getLabelId()))},dependencies:[t.UX,t.Fj,t.JJ,t.JL,t.sg,t.u],styles:[".example-tel-input-container[_ngcontent-%COMP%]{display:flex}.example-tel-input-element[_ngcontent-%COMP%]{border:none;background:none;padding:0;outline:none;font:inherit;text-align:center}.example-tel-input-spacer[_ngcontent-%COMP%]{opacity:0;transition:opacity .2s}.floating[_nghost-%COMP%]   .example-tel-input-spacer[_ngcontent-%COMP%]{opacity:1}"]});const S=o(257).Z,A=o(890).Z;class d{constructor(){this.tel=new C("","",""),this.snippets={tel:[{fileName:"app.component.ts",content:S,language:"typescript"},{fileName:"tel.component.ts",content:A,language:"typescript"}]}}}d.\u0275fac=function(n){return new(n||d)},d.\u0275cmp=e.Xpm({type:d,selectors:[["ngs-tel-demo"]],standalone:!0,features:[e.jDz],decls:4,vars:1,consts:[["title","Telephone",3,"snippets"],[4,"ngsSnippetResult"],["required","",3,"ngModel","ngModelChange"],["matSuffix",""],["ngsHighlightContent","",1,"mt-2"]],template:function(n,r){1&n&&(e.TgZ(0,"h2"),e._uU(1,"Telephone"),e.qZA(),e.TgZ(2,"ngs-code-snippets",0),e.YNc(3,L,12,4,"ng-container",1),e.qZA()),2&n&&(e.xp6(2),e.Q6J("snippets",r.snippets.tel))},dependencies:[l.ez,l.Ts,t.u5,t.JJ,t.Q7,t.On,c.lN,c.KE,c.hX,c.bx,c.R9,M.Ps,M.Hw,b.rM,b.I6,u,v.K],styles:["button{background-color:#757597;padding:.25rem .5rem;border-radius:3px}"]});var V=o(8034);class h{}h.\u0275fac=function(n){return new(n||h)},h.\u0275cmp=e.Xpm({type:h,selectors:[["ngs-ng-superclass-material-demo"]],standalone:!0,features:[e.jDz],decls:2,vars:0,template:function(n,r){1&n&&(e.TgZ(0,"ngs-demo-main-content"),e._UZ(1,"ngs-tel-demo"),e.qZA())},dependencies:[l.ez,V._,d],changeDetection:0});const _=[{path:"",component:h},{path:"",redirectTo:"",pathMatch:"full"}]},257:(f,p,o)=>{o.d(p,{Z:()=>l});const l="@Component({\r\n  selector: 'app-consumer',\r\n  standalone: true,\r\n  imports: [\r\n    FormsModule,\r\n    MatFormFieldModule,\r\n    MatIconModule,\r\n    MyTelInputComponent,\r\n  ],\r\n  template: `\r\n    <mat-form-field>\r\n      <mat-label>Phone number</mat-label>\r\n      <ngs-tel-input required [(ngModel)]=\"tel\"></ngs-tel-input>\r\n      <mat-icon matSuffix>phone</mat-icon>\r\n      <mat-hint>Include area code</mat-hint>\r\n    </mat-form-field>\r\n  `,\r\n})\r\nexport class AppComponent {\r\n  tel = new MyTel('', '', '');\r\n}\r\n"},890:(f,p,o)=>{o.d(p,{Z:()=>l});const l="import { Component, inject, ViewChild } from '@angular/core';\r\nimport {\r\n  AbstractControl,\r\n  FormBuilder,\r\n  ReactiveFormsModule,\r\n  Validators,\r\n} from '@angular/forms';\r\nimport { MatFormFieldControl } from '@angular/material/form-field';\r\n\r\nimport { map, Observable } from 'rxjs';\r\n\r\nimport { FormComponentMaterialSuperclass } from '../form-component-material-superclass';\r\n\r\nimport { MyTel } from './tel-input.model';\r\n\r\n@Component({\r\n  selector: 'ngs-tel-input',\r\n  standalone: true,\r\n  imports: [ReactiveFormsModule],\r\n  template: `\r\n    <div\r\n      role=\"group\"\r\n      class=\"example-tel-input-container\"\r\n      [formGroup]=\"viewModel\"\r\n      [attr.aria-labelledby]=\"formField?.getLabelId()\"\r\n    >\r\n      <input\r\n        #area\r\n        class=\"example-tel-input-element\"\r\n        formControlName=\"area\"\r\n        size=\"3\"\r\n        maxLength=\"3\"\r\n        aria-label=\"Area code\"\r\n      />\r\n      <span class=\"example-tel-input-spacer\">&ndash;</span>\r\n      <input\r\n        #exchange\r\n        class=\"example-tel-input-element\"\r\n        formControlName=\"exchange\"\r\n        maxLength=\"3\"\r\n        size=\"3\"\r\n        aria-label=\"Exchange code\"\r\n        (keyup.backspace)=\"autoFocusPrev(viewModel.controls.exchange, area)\"\r\n      />\r\n      <span class=\"example-tel-input-spacer\">&ndash;</span>\r\n      <input\r\n        #subscriber\r\n        class=\"example-tel-input-element\"\r\n        formControlName=\"subscriber\"\r\n        maxLength=\"4\"\r\n        size=\"4\"\r\n        aria-label=\"Subscriber number\"\r\n        (keyup.backspace)=\"\r\n          autoFocusPrev(viewModel.controls.subscriber, exchange)\r\n        \"\r\n      />\r\n    </div>\r\n  `,\r\n  styleUrls: ['./tel-input.scss'],\r\n  providers: [\r\n    { provide: MatFormFieldControl, useExisting: MyTelInputComponent },\r\n  ],\r\n})\r\nexport class MyTelInputComponent\r\n  extends FormComponentMaterialSuperclass<MyTel>\r\n  implements MatFormFieldControl<MyTel>\r\n{\r\n  private _formBuilder = inject(FormBuilder);\r\n\r\n  override viewModel = this._formBuilder.group({\r\n    area: [\r\n      '',\r\n      [Validators.required, Validators.minLength(3), Validators.maxLength(3)],\r\n    ],\r\n    exchange: [\r\n      '',\r\n      [Validators.required, Validators.minLength(3), Validators.maxLength(3)],\r\n    ],\r\n    subscriber: [\r\n      '',\r\n      [Validators.required, Validators.minLength(4), Validators.maxLength(4)],\r\n    ],\r\n  });\r\n\r\n  @ViewChild('area') areaInput: HTMLInputElement;\r\n  @ViewChild('exchange') exchangeInput: HTMLInputElement;\r\n  @ViewChild('subscriber') subscriberInput: HTMLInputElement;\r\n\r\n  override get empty() {\r\n    const {\r\n      value: { area, exchange, subscriber },\r\n    } = this.viewModel;\r\n\r\n    return !area && !exchange && !subscriber;\r\n  }\r\n\r\n  override outerToInner = (values$: Observable<MyTel>) =>\r\n    values$.pipe(map((value) => value ?? new MyTel('', '', '')));\r\n\r\n  autoFocusPrev(control: AbstractControl, prevElement: HTMLInputElement): void {\r\n    if (control.value.length < 1) {\r\n      this.focusMonitor.focusVia(prevElement, 'program');\r\n    }\r\n  }\r\n\r\n  setDescribedByIds(ids: string[]) {\r\n    const controlElement = this.hostEl.querySelector(\r\n      '.example-tel-input-container'\r\n    );\r\n    controlElement?.setAttribute('aria-describedby', ids.join(' '));\r\n  }\r\n\r\n  onContainerClick() {\r\n    if (this.viewModel.controls.subscriber.valid) {\r\n      this.focusMonitor.focusVia(this.subscriberInput, 'program');\r\n    } else if (this.viewModel.controls.exchange.valid) {\r\n      this.focusMonitor.focusVia(this.subscriberInput, 'program');\r\n    } else if (this.viewModel.controls.area.valid) {\r\n      this.focusMonitor.focusVia(this.exchangeInput, 'program');\r\n    } else {\r\n      this.focusMonitor.focusVia(this.areaInput, 'program');\r\n    }\r\n  }\r\n}\r\n"}}]);