"use strict";(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[153],{7153:(u,l,r)=>{r.r(l),r.d(l,{default:()=>x});var s=r(177),p=r(9417),i=r(4738),c=r(5599),d=r(8486),n=r(4438);function f(t,g){if(1&t){const a=n.RV6();n.qex(0),n.j41(1,"ngs-counter",2),n.mxI("ngModelChange",function(o){n.eBV(a);const m=n.XpG();return n.DH7(m.count,o)||(m.count=o),n.Njj(o)}),n.k0s(),n.j41(2,"pre",3),n.EFF(3),n.nI1(4,"json"),n.k0s(),n.bVm()}if(2&t){const a=n.XpG();n.R7$(),n.R50("ngModel",a.count),n.R7$(2),n.SpI("value: ",n.bMT(4,2,a.count),"")}}const C=r(7534).A,N=r(4966).A;let v=(()=>{class t{constructor(){this.count=0,this.snippets={counter:[{fileName:"app.component.ts",content:C,language:"typescript"},{fileName:"counter.component.ts",content:N,language:"typescript"}]}}static#n=this.\u0275fac=function(e){return new(e||t)};static#e=this.\u0275cmp=n.VBU({type:t,selectors:[["ngs-counter-demo"]],standalone:!0,features:[n.aNF],decls:4,vars:1,consts:[["header","Counter",3,"snippets"],[4,"ngsSnippetResult"],[3,"ngModelChange","ngModel"],["ngsHighlightContent","",1,"mt-2"]],template:function(e,o){1&e&&(n.j41(0,"h2"),n.EFF(1,"Counter"),n.k0s(),n.j41(2,"ngs-code-snippets",0),n.DNE(3,f,5,4,"ng-container",1),n.k0s()),2&e&&(n.R7$(2),n.Y8G("snippets",o.snippets.counter))},dependencies:[s.MD,s.TG,p.YN,p.BC,p.vS,i.FC,i.Gc,d.s0,c.j],styles:["button{background-color:#757597;padding:.25rem .5rem;border-radius:3px}"]})}return t})();function _(t,g){if(1&t){const a=n.RV6();n.qex(0),n.j41(1,"ngs-full-name",3,0),n.mxI("ngModelChange",function(o){n.eBV(a);const m=n.XpG();return n.DH7(m.name,o)||(m.name=o),n.Njj(o)}),n.k0s(),n.j41(3,"pre",4),n.EFF(4),n.nI1(5,"json"),n.nI1(6,"json"),n.k0s(),n.bVm()}if(2&t){const a=n.sdS(2),e=n.XpG();n.R7$(),n.R50("ngModel",e.name),n.R7$(3),n.Lme("value: ",n.bMT(5,3,e.name),",\nerrors: ",n.bMT(6,5,a.errors),"\n    ")}}const F=r(7835).A,h=r(8).A;let T=(()=>{class t{constructor(){this.snippets={fullName:[{fileName:"app.component.ts",content:F,language:"typescript"},{fileName:"full-name.component.ts",content:h,language:"typescript"}]}}static#n=this.\u0275fac=function(e){return new(e||t)};static#e=this.\u0275cmp=n.VBU({type:t,selectors:[["ngs-full-name-demo"]],standalone:!0,features:[n.aNF],decls:4,vars:2,consts:[["valueControl","ngModel"],["header","Full name",3,"snippets","expanded"],[4,"ngsSnippetResult"],[3,"ngModelChange","ngModel"],["ngsHighlightContent","",1,"mt-2"]],template:function(e,o){1&e&&(n.j41(0,"h2"),n.EFF(1,"Full name"),n.k0s(),n.j41(2,"ngs-code-snippets",1),n.DNE(3,_,7,7,"ng-container",2),n.k0s()),2&e&&(n.R7$(2),n.Y8G("snippets",o.snippets.fullName)("expanded",!1))},dependencies:[s.MD,s.TG,p.YN,p.BC,p.vS,i.FC,i.Gc,d.Zl,c.j],styles:["input{color:#000}"]})}return t})();function M(t,g){if(1&t){const a=n.RV6();n.qex(0),n.j41(1,"div"),n.EFF(2," Variant "),n.j41(3,"label")(4,"input",3),n.mxI("ngModelChange",function(o){n.eBV(a);const m=n.XpG();return n.DH7(m.variant,o)||(m.variant=o),n.Njj(o)}),n.k0s(),n.EFF(5," 1 "),n.k0s(),n.j41(6,"label")(7,"input",3),n.mxI("ngModelChange",function(o){n.eBV(a);const m=n.XpG();return n.DH7(m.variant,o)||(m.variant=o),n.Njj(o)}),n.k0s(),n.EFF(8," 2 "),n.k0s()(),n.j41(9,"ngs-nested",4,0),n.mxI("ngModelChange",function(o){n.eBV(a);const m=n.XpG();return n.DH7(m.value,o)||(m.value=o),n.Njj(o)}),n.k0s(),n.j41(11,"pre",5),n.EFF(12),n.nI1(13,"json"),n.nI1(14,"json"),n.k0s(),n.bVm()}if(2&t){const a=n.sdS(10),e=n.XpG();n.R7$(4),n.Y8G("value",1),n.R50("ngModel",e.variant),n.R7$(3),n.Y8G("value",2),n.R50("ngModel",e.variant),n.R7$(2),n.Y8G("variant",e.variant),n.R50("ngModel",e.value),n.R7$(3),n.Lme("value: ",n.bMT(13,8,e.value),",\nerrors: ",n.bMT(14,10,a.errors),"\n    ")}}const A=r(3157).A,j=r(4268).A,y=r(6300).A;let D=(()=>{class t{constructor(){this.variant=1,this.snippets={nested:[{fileName:"app.component.ts",content:A,language:"typescript"},{fileName:"nested.component.ts",content:j,language:"typescript"},{fileName:"one-input.component.ts",content:y,language:"typescript"}]}}static#n=this.\u0275fac=function(e){return new(e||t)};static#e=this.\u0275cmp=n.VBU({type:t,selectors:[["ngs-nested-demo"]],standalone:!0,features:[n.aNF],decls:4,vars:2,consts:[["valueControl","ngModel"],["header","Nested",3,"snippets","expanded"],[4,"ngsSnippetResult"],["type","radio","name","variant",3,"ngModelChange","value","ngModel"],[3,"ngModelChange","variant","ngModel"],["ngsHighlightContent","",1,"mt-2"]],template:function(e,o){1&e&&(n.j41(0,"h2"),n.EFF(1,"Nested"),n.k0s(),n.j41(2,"ngs-code-snippets",1),n.DNE(3,M,15,12,"ng-container",2),n.k0s()),2&e&&(n.R7$(2),n.Y8G("snippets",o.snippets.nested)("expanded",!1))},dependencies:[s.MD,s.TG,p.YN,p.me,p.Fm,p.BC,p.vS,i.FC,i.Gc,d.rF,c.j],styles:["input{color:#000}label[_ngcontent-%COMP%]{margin:.5rem}"]})}return t})();var R=r(9070);const x=[{path:"",component:(()=>{class t{static#n=this.\u0275fac=function(e){return new(e||t)};static#e=this.\u0275cmp=n.VBU({type:t,selectors:[["ngs-ng-superclass-demo"]],standalone:!0,features:[n.aNF],decls:4,vars:0,template:function(e,o){1&e&&(n.j41(0,"ngs-demo-main-content"),n.nrm(1,"ngs-counter-demo")(2,"ngs-full-name-demo")(3,"ngs-nested-demo"),n.k0s())},dependencies:[s.MD,R.V,v,T,D],changeDetection:0})}return t})()},{path:"",redirectTo:"",pathMatch:"full"}]},7534:(u,l,r)=>{r.d(l,{A:()=>s});const s="@Component({\r\n  selector: 'app-consumer',\r\n  template: `\r\n    <app-counter [(ngModel)]=\"count\" />\r\n    <pre>value: {{ count | json }}</pre>\r\n  `,\r\n})\r\nexport class AppComponent {\r\n  count = 0\r\n}\r\n"},4966:(u,l,r)=>{r.d(l,{A:()=>s});const s="import { Component } from '@angular/core';\r\nimport { FormControl } from '@angular/forms';\r\nimport { FormComponentSuperclass } from '@ngspot/ng-superclass';\r\n\r\n@Component({\r\n  selector: 'app-counter',\r\n  standalone: true,\r\n  imports: [CommonModule],\r\n  template: `\r\n    <button [ngClass]=\"{ disabled }\" (click)=\"increment()\" (blur)=\"onTouched()\">\r\n      {{ viewModel.value }}\r\n    </button>\r\n  `,\r\n})\r\nexport class CounterComponent extends FormComponentSuperclass<number> {\r\n  override viewModel = new FormControl(0, { nonNullable: true });\r\n\r\n  increment() {\r\n    if (!this.disabled) {\r\n      this.viewModel.setValue(this.viewModel.value + 1);\r\n    }\r\n  }\r\n}\r\n"},7835:(u,l,r)=>{r.d(l,{A:()=>s});const s='@Component({\r\n  selector: \'app-consumer\',\r\n  template: `\r\n    <app-full-name [(ngModel)]="fullName" #valueControl="ngModel" />\r\n    <pre>\r\n      value: {{ fullName | json }},\r\n      errors: {{ valueControl.errors | json }},\r\n    </pre>\r\n  `,\r\n})\r\nexport class AppComponent {\r\n  fullName: string;\r\n}\r\n'},8:(u,l,r)=>{r.d(l,{A:()=>s});const s="import { ChangeDetectionStrategy, Component } from '@angular/core';\r\nimport {\r\n  AbstractControl,\r\n  FormControl,\r\n  FormGroup,\r\n  ReactiveFormsModule,\r\n  ValidatorFn,\r\n} from '@angular/forms';\r\nimport { Observable } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\nimport { FormComponentSuperclass } from '@ngspot/ng-superclass';\r\n\r\ntype OuterType = string | undefined;\r\ntype InnerType = {\r\n  firstName: string;\r\n  lastName: string;\r\n};\r\n\r\n@Component({\r\n  selector: 'app-full-name',\r\n  standalone: true,\r\n  imports: [ReactiveFormsModule],\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  template: `\r\n    <form [formGroup]=\"viewModel\">\r\n      <input formControlName=\"firstName\" placeholder=\"First name\" />\r\n      &nbsp;\r\n      <input formControlName=\"lastName\" placeholder=\"Last name\" />\r\n    </form>\r\n  `,\r\n})\r\nexport class FullNameReactiveComponent extends FormComponentSuperclass<\r\n  OuterType,\r\n  InnerType\r\n> {\r\n  override viewModel = new FormGroup(\r\n    {\r\n      firstName: new FormControl('', { nonNullable: true }),\r\n      lastName: new FormControl('', { nonNullable: true }),\r\n    },\r\n    { validators: FirstAndLastNameValidator() }\r\n  );\r\n\r\n  override outerToInner = (fullName$: Observable<OuterType>) =>\r\n    fullName$.pipe(\r\n      map((fullName) => {\r\n        const [firstName, lastName] = (fullName ?? '').split(' ');\r\n        const inner: InnerType = {\r\n          firstName: firstName ?? '',\r\n          lastName: lastName ?? '',\r\n        };\r\n        return inner;\r\n      })\r\n    );\r\n\r\n  override innerToOuter = (innerValues$: Observable<InnerType>) =>\r\n    innerValues$.pipe(\r\n      map(({ firstName, lastName }) => {\r\n        let result = '';\r\n        if (firstName) {\r\n          result += firstName;\r\n        }\r\n        if (lastName) {\r\n          result += ` ${lastName}`;\r\n        }\r\n        return result;\r\n      })\r\n    );\r\n\r\n  override validate(control: AbstractControl<OuterType>) {\r\n    if (!control.value) {\r\n      return null;\r\n    }\r\n    return this.viewModel.errors;\r\n  }\r\n}\r\n\r\nconst allowedNames: InnerType[] = [\r\n  { firstName: 'Bob', lastName: 'Swagger' },\r\n  { firstName: 'Jack', lastName: 'Reacher' },\r\n];\r\n\r\nfunction FirstAndLastNameValidator(): ValidatorFn {\r\n  return (control: AbstractControl<InnerType>) => {\r\n    const error = isFirstAndLastNameValid(control.value)\r\n      ? null\r\n      : {\r\n          notAllowedName: {\r\n            actual: control.value,\r\n            allowed: allowedNames,\r\n          },\r\n        };\r\n    return error;\r\n  };\r\n}\r\n\r\nfunction isFirstAndLastNameValid({ firstName, lastName }: InnerType): boolean {\r\n  return allowedNames.some(\r\n    (allowed) =>\r\n      allowed.firstName === firstName && allowed.lastName === lastName\r\n  );\r\n}\r\n"},3157:(u,l,r)=>{r.d(l,{A:()=>s});const s='@Component({\r\n  selector: \'app-consumer\',\r\n  template: `\r\n    <div>\r\n      Variant\r\n      <label>\r\n        <input type="radio" [value]="1" name="variant" [(ngModel)]="variant" />\r\n        1\r\n      </label>\r\n\r\n      <label>\r\n        <input type="radio" [value]="2" name="variant" [(ngModel)]="variant" />\r\n        2\r\n      </label>\r\n    </div>\r\n\r\n    <ngs-nested\r\n      [(ngModel)]="value"\r\n      [variant]="variant"\r\n      #valueControl="ngModel"\r\n    ></ngs-nested>\r\n\r\n    <pre>\r\n      value: {{ value | json }},\r\n      errors: {{ valueControl.errors | json }}\r\n    </pre>\r\n  `,\r\n})\r\nexport class AppComponent {\r\n  variant: 1 | 2 = 1;\r\n\r\n  value: string;\r\n}\r\n'},4268:(u,l,r)=>{r.d(l,{A:()=>s});const s="import { CommonModule } from '@angular/common';\r\nimport { Component, Input } from '@angular/core';\r\nimport { AbstractControl, ReactiveFormsModule } from '@angular/forms';\r\nimport { FormComponentSuperclass } from '@ngspot/ng-superclass';\r\n\r\nimport { FullNameReactiveComponent } from './full-name-form-group.component';\r\nimport { OneInputComponent } from './one-input.component';\r\n\r\n@Component({\r\n  selector: 'app-nested',\r\n  standalone: true,\r\n  imports: [\r\n    CommonModule,\r\n    ReactiveFormsModule,\r\n    OneInputComponent,\r\n    FullNameReactiveComponent,\r\n  ],\r\n  template: `\r\n    <ng-container *ngIf=\"variant === 1; else variantTwo\">\r\n      <app-one-input [formControl]=\"ngControl.control\"></ngs-one-input>\r\n    </ng-container>\r\n\r\n    <ng-template #variantTwo>\r\n      <app-full-name [formControl]=\"ngControl.control\"></ngs-full-name>\r\n    </ng-template>\r\n  `,\r\n})\r\nexport class NestedComponent extends FormComponentSuperclass<string> {\r\n  @Input()\r\n  variant: 1 | 2 = 1;\r\n}\r\n"},6300:(u,l,r)=>{r.d(l,{A:()=>s});const s="import { Component } from '@angular/core';\r\nimport { AbstractControl, ReactiveFormsModule } from '@angular/forms';\r\n\r\nimport { FormComponentSuperclass } from '@ngspot/ng-superclass';\r\n\r\ntype OuterType = string | undefined;\r\n\r\n@Component({\r\n  selector: 'app-one-input',\r\n  standalone: true,\r\n  imports: [ReactiveFormsModule],\r\n  template: `<input [formControl]=\"ngControl.control\" />`,\r\n})\r\nexport class OneInputComponent extends FormComponentSuperclass<OuterType> {\r\n  override validate(control: AbstractControl<OuterType>) {\r\n    if ((control.value?.length ?? 0) < 5) {\r\n      return { minlength: 5 };\r\n    }\r\n    return null;\r\n  }\r\n}\r\n"}}]);