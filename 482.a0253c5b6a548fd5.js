"use strict";(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[482],{1482:(d,u,s)=>{s.r(u),s.d(u,{default:()=>_});var l=s(4755),a=s(9401),c=s(9114),h=s(430),g=s(6273),b=s(7593),v=s(1692),e=s(2223),x=s(1217),C=s(2664);let y=(()=>{class r extends C.LR{constructor(){super(...arguments),this.defaultErrorStateMatcher=(0,e.f3M)(x.rD),this.formField=(0,e.f3M)(c.G_,{optional:!0}),this._required=!1,this.errorState=!1,this.parentForm=(0,e.f3M)(a.F,{optional:!0}),this.parentFormGroup=(0,e.f3M)(a.sg,{optional:!0})}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get empty(){return!this.value}get shouldLabelFloat(){return this.focused||!this.empty}get required(){return this._required}set required(t){this._required=(0,v.Ig)(t),this.stateChanges.next()}ngDoCheck(){this.updateErrorState()}updateErrorState(){const t=this.ngControl?this.ngControl.control:null;if(!t)return;const n=this.errorState,p=(this.errorStateMatcher??this.defaultErrorStateMatcher).isErrorState(t,this.parentFormGroup??this.parentForm);p!==n&&(this.errorState=p,this.stateChanges.next())}static#e=this.\u0275fac=function(){let t;return function(o){return(t||(t=e.n5z(r)))(o||r)}}();static#t=this.\u0275dir=e.lG2({type:r,hostVars:2,hostBindings:function(n,o){2&n&&e.ekj("floating",o.shouldLabelFloat)},inputs:{errorStateMatcher:"errorStateMatcher",placeholder:"placeholder",required:"required",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},features:[e.qOj]})}return r})();var T=s(4004);class f{constructor(M,t,n){this.area=M,this.exchange=t,this.subscriber=n}}const I=["area"],F=["exchange"],Z=["subscriber"];let E=(()=>{class r extends y{constructor(){super(...arguments),this._formBuilder=(0,e.f3M)(a.qu),this.viewModel=this._formBuilder.group({area:["",[a.kI.required,a.kI.minLength(3),a.kI.maxLength(3)]],exchange:["",[a.kI.required,a.kI.minLength(3),a.kI.maxLength(3)]],subscriber:["",[a.kI.required,a.kI.minLength(4),a.kI.maxLength(4)]]}),this.outerToInner=t=>t.pipe((0,T.U)(n=>n??new f("","","")))}get empty(){const{value:{area:t,exchange:n,subscriber:o}}=this.viewModel;return!t&&!n&&!o}autoFocusPrev(t,n){t.value.length<1&&this.focusMonitor.focusVia(n,"program")}setDescribedByIds(t){this.hostEl.querySelector(".example-tel-input-container")?.setAttribute("aria-describedby",t.join(" "))}onContainerClick(){this.focusMonitor.focusVia(this.viewModel.controls.subscriber.valid||this.viewModel.controls.exchange.valid?this.subscriberInput:this.viewModel.controls.area.valid?this.exchangeInput:this.areaInput,"program")}static#e=this.\u0275fac=function(){let t;return function(o){return(t||(t=e.n5z(r)))(o||r)}}();static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["ngs-tel-input"]],viewQuery:function(n,o){if(1&n&&(e.Gf(I,5),e.Gf(F,5),e.Gf(Z,5)),2&n){let i;e.iGM(i=e.CRH())&&(o.areaInput=i.first),e.iGM(i=e.CRH())&&(o.exchangeInput=i.first),e.iGM(i=e.CRH())&&(o.subscriberInput=i.first)}},standalone:!0,features:[e._Bn([{provide:c.Eo,useExisting:r}]),e.qOj,e.jDz],decls:11,vars:2,consts:[["role","group",1,"example-tel-input-container",3,"formGroup"],["formControlName","area","size","3","maxLength","3","aria-label","Area code",1,"example-tel-input-element"],["area",""],[1,"example-tel-input-spacer"],["formControlName","exchange","maxLength","3","size","3","aria-label","Exchange code",1,"example-tel-input-element",3,"keyup.backspace"],["exchange",""],["formControlName","subscriber","maxLength","4","size","4","aria-label","Subscriber number",1,"example-tel-input-element",3,"keyup.backspace"],["subscriber",""]],template:function(n,o){if(1&n){const i=e.EpF();e.TgZ(0,"div",0),e._UZ(1,"input",1,2),e.TgZ(3,"span",3),e._uU(4,"\u2013"),e.qZA(),e.TgZ(5,"input",4,5),e.NdJ("keyup.backspace",function(){e.CHM(i);const m=e.MAs(2);return e.KtG(o.autoFocusPrev(o.viewModel.controls.exchange,m))}),e.qZA(),e.TgZ(7,"span",3),e._uU(8,"\u2013"),e.qZA(),e.TgZ(9,"input",6,7),e.NdJ("keyup.backspace",function(){e.CHM(i);const m=e.MAs(6);return e.KtG(o.autoFocusPrev(o.viewModel.controls.subscriber,m))}),e.qZA()()}2&n&&(e.Q6J("formGroup",o.viewModel),e.uIk("aria-labelledby",null==o.formField?null:o.formField.getLabelId()))},dependencies:[a.UX,a.Fj,a.JJ,a.JL,a.sg,a.u],styles:[".example-tel-input-container[_ngcontent-%COMP%]{display:flex}.example-tel-input-element[_ngcontent-%COMP%]{border:none;background:none;padding:0;outline:none;font:inherit;text-align:center}.example-tel-input-spacer[_ngcontent-%COMP%]{opacity:0;transition:opacity .2s}.floating[_nghost-%COMP%]   .example-tel-input-spacer[_ngcontent-%COMP%]{opacity:1}"]})}return r})();function L(r,M){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"mat-form-field")(2,"mat-label"),e._uU(3,"Phone number"),e.qZA(),e.TgZ(4,"ngs-tel-input",2),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.tel=o)}),e.qZA(),e.TgZ(5,"mat-icon",3),e._uU(6,"phone"),e.qZA(),e.TgZ(7,"mat-hint"),e._uU(8,"Include area code"),e.qZA()(),e.TgZ(9,"pre",4),e._uU(10),e.ALo(11,"json"),e.qZA(),e.BQk()}if(2&r){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t.tel),e.xp6(6),e.hij("value: ",e.lcZ(11,2,t.tel),"")}}const A=s(257).Z,S=s(890).Z;let V=(()=>{class r{constructor(){this.tel=new f("","",""),this.snippets={tel:[{fileName:"app.component.ts",content:A,language:"typescript"},{fileName:"tel.component.ts",content:S,language:"typescript"}]}}static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["ngs-tel-demo"]],standalone:!0,features:[e.jDz],decls:4,vars:1,consts:[["title","Telephone",3,"snippets"],[4,"ngsSnippetResult"],["required","",3,"ngModel","ngModelChange"],["matSuffix",""],["ngsHighlightContent","",1,"mt-2"]],template:function(n,o){1&n&&(e.TgZ(0,"h2"),e._uU(1,"Telephone"),e.qZA(),e.TgZ(2,"ngs-code-snippets",0),e.YNc(3,L,12,4,"ng-container",1),e.qZA()),2&n&&(e.xp6(2),e.Q6J("snippets",o.snippets.tel))},dependencies:[l.ez,l.Ts,a.u5,a.JJ,a.Q7,a.On,c.lN,c.KE,c.hX,c.bx,c.R9,h.Ps,h.Hw,g.rM,g.I6,E,b.K],styles:["button{background-color:#757597;padding:.25rem .5rem;border-radius:3px}"]})}return r})();var k=s(8034);const _=[{path:"",component:(()=>{class r{static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["ngs-ng-superclass-material-demo"]],standalone:!0,features:[e.jDz],decls:2,vars:0,template:function(n,o){1&n&&(e.TgZ(0,"ngs-demo-main-content"),e._UZ(1,"ngs-tel-demo"),e.qZA())},dependencies:[l.ez,k._,V],changeDetection:0})}return r})()},{path:"",redirectTo:"",pathMatch:"full"}]},257:(d,u,s)=>{s.d(u,{Z:()=>l});const l="@Component({\r\n  selector: 'app-consumer',\r\n  standalone: true,\r\n  imports: [\r\n    FormsModule,\r\n    MatFormFieldModule,\r\n    MatIconModule,\r\n    MyTelInputComponent,\r\n  ],\r\n  template: `\r\n    <mat-form-field>\r\n      <mat-label>Phone number</mat-label>\r\n      <ngs-tel-input required [(ngModel)]=\"tel\"></ngs-tel-input>\r\n      <mat-icon matSuffix>phone</mat-icon>\r\n      <mat-hint>Include area code</mat-hint>\r\n    </mat-form-field>\r\n  `,\r\n})\r\nexport class AppComponent {\r\n  tel = new MyTel('', '', '');\r\n}\r\n"},890:(d,u,s)=>{s.d(u,{Z:()=>l});const l="import { Component, inject, ViewChild } from '@angular/core';\r\nimport {\r\n  AbstractControl,\r\n  FormBuilder,\r\n  ReactiveFormsModule,\r\n  Validators,\r\n} from '@angular/forms';\r\nimport { MatFormFieldControl } from '@angular/material/form-field';\r\n\r\nimport { map, Observable } from 'rxjs';\r\n\r\nimport { FormComponentMaterialSuperclass } from '../form-component-material-superclass';\r\n\r\nimport { MyTel } from './tel-input.model';\r\n\r\n@Component({\r\n  selector: 'ngs-tel-input',\r\n  standalone: true,\r\n  imports: [ReactiveFormsModule],\r\n  template: `\r\n    <div\r\n      role=\"group\"\r\n      class=\"example-tel-input-container\"\r\n      [formGroup]=\"viewModel\"\r\n      [attr.aria-labelledby]=\"formField?.getLabelId()\"\r\n    >\r\n      <input\r\n        #area\r\n        class=\"example-tel-input-element\"\r\n        formControlName=\"area\"\r\n        size=\"3\"\r\n        maxLength=\"3\"\r\n        aria-label=\"Area code\"\r\n      />\r\n      <span class=\"example-tel-input-spacer\">&ndash;</span>\r\n      <input\r\n        #exchange\r\n        class=\"example-tel-input-element\"\r\n        formControlName=\"exchange\"\r\n        maxLength=\"3\"\r\n        size=\"3\"\r\n        aria-label=\"Exchange code\"\r\n        (keyup.backspace)=\"autoFocusPrev(viewModel.controls.exchange, area)\"\r\n      />\r\n      <span class=\"example-tel-input-spacer\">&ndash;</span>\r\n      <input\r\n        #subscriber\r\n        class=\"example-tel-input-element\"\r\n        formControlName=\"subscriber\"\r\n        maxLength=\"4\"\r\n        size=\"4\"\r\n        aria-label=\"Subscriber number\"\r\n        (keyup.backspace)=\"\r\n          autoFocusPrev(viewModel.controls.subscriber, exchange)\r\n        \"\r\n      />\r\n    </div>\r\n  `,\r\n  styleUrls: ['./tel-input.scss'],\r\n  providers: [\r\n    { provide: MatFormFieldControl, useExisting: MyTelInputComponent },\r\n  ],\r\n})\r\nexport class MyTelInputComponent\r\n  extends FormComponentMaterialSuperclass<MyTel>\r\n  implements MatFormFieldControl<MyTel>\r\n{\r\n  private _formBuilder = inject(FormBuilder);\r\n\r\n  override viewModel = this._formBuilder.group({\r\n    area: [\r\n      '',\r\n      [Validators.required, Validators.minLength(3), Validators.maxLength(3)],\r\n    ],\r\n    exchange: [\r\n      '',\r\n      [Validators.required, Validators.minLength(3), Validators.maxLength(3)],\r\n    ],\r\n    subscriber: [\r\n      '',\r\n      [Validators.required, Validators.minLength(4), Validators.maxLength(4)],\r\n    ],\r\n  });\r\n\r\n  @ViewChild('area') areaInput: HTMLInputElement;\r\n  @ViewChild('exchange') exchangeInput: HTMLInputElement;\r\n  @ViewChild('subscriber') subscriberInput: HTMLInputElement;\r\n\r\n  override get empty() {\r\n    const {\r\n      value: { area, exchange, subscriber },\r\n    } = this.viewModel;\r\n\r\n    return !area && !exchange && !subscriber;\r\n  }\r\n\r\n  override outerToInner = (values$: Observable<MyTel>) =>\r\n    values$.pipe(map((value) => value ?? new MyTel('', '', '')));\r\n\r\n  autoFocusPrev(control: AbstractControl, prevElement: HTMLInputElement): void {\r\n    if (control.value.length < 1) {\r\n      this.focusMonitor.focusVia(prevElement, 'program');\r\n    }\r\n  }\r\n\r\n  setDescribedByIds(ids: string[]) {\r\n    const controlElement = this.hostEl.querySelector(\r\n      '.example-tel-input-container'\r\n    );\r\n    controlElement?.setAttribute('aria-describedby', ids.join(' '));\r\n  }\r\n\r\n  onContainerClick() {\r\n    if (this.viewModel.controls.subscriber.valid) {\r\n      this.focusMonitor.focusVia(this.subscriberInput, 'program');\r\n    } else if (this.viewModel.controls.exchange.valid) {\r\n      this.focusMonitor.focusVia(this.subscriberInput, 'program');\r\n    } else if (this.viewModel.controls.area.valid) {\r\n      this.focusMonitor.focusVia(this.exchangeInput, 'program');\r\n    } else {\r\n      this.focusMonitor.focusVia(this.areaInput, 'program');\r\n    }\r\n  }\r\n}\r\n"}}]);