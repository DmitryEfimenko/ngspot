<div class="wrap-all">
  <div class="input-field">
    <div
      #inputElWrapper
      class="input-field_wrapper"
      [@slideInOut]="{
        value: isOpen,
        params: { duration: animationDuration, easing: animationEasing }
      }"
      [ngsFocusable]="isOpen"
      ngsFocusableSelector="input"
    >
      <ng-container
        [ngTemplateOutlet]="expInputDirective.templateRef"
      ></ng-container>
    </div>

    <div
      *ngsIfAnimated="
        expIconActionDirective && isOpen;
        enter: iconActionAnimation.enter;
        leave: iconActionAnimation.leave;
        enterOptions: animationOptions;
        leaveOptions: animationOptions
      "
      class="icons_icon-action"
      #iconActionWrapper
      [ngsFocusable]="isOpen"
      ngsFocusableSelector="button"
    >
      <ng-container
        [ngTemplateOutlet]="expIconActionDirective.templateRef"
      ></ng-container>
    </div>
  </div>

  <div class="icons" [class.icons--active]="isOpen">
    <div
      *ngsIfAnimated="
        isOpen;
        enter: iconCloseAnimation.enter;
        leave: iconCloseAnimation.leave;
        enterOptions: animationOptions;
        leaveOptions: animationOptions
      "
      class="icons_icon-close"
      (click)="close()"
      [ngsFocusable]="isOpen"
      ngsFocusableSelector="button"
    >
      <ng-container
        [ngTemplateOutlet]="iconCloseDirective.templateRef"
      ></ng-container>
    </div>

    <div
      *ngsIfAnimated="
        !isOpen;
        enter: iconOpenAnimation.enter;
        leave: iconOpenAnimation.leave;
        enterOptions: animationOptions;
        leaveOptions: animationOptions
      "
      class="icons_icon-open"
      (click)="open()"
      [ngsFocusable]="!isOpen"
      ngsFocusableSelector="button"
    >
      <ng-container
        [ngTemplateOutlet]="iconOpenDirective.templateRef"
      ></ng-container>
    </div>
  </div>
</div>
