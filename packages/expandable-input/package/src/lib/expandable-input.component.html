<div class="wrap-all">
  <div class="input-field">
    <div
      #inputElWrapper
      class="input-field_wrapper"
      [@slideInOut]="{
        value: isOpen,
        params: { duration: animationDuration, easing: animationEasing }
      }"
      [ngsFocusable]="isOpen"
      ngsFocusableSelector="input"
    >
      <ng-container
        [ngTemplateOutlet]="expInputDirective.templateRef"
      ></ng-container>
    </div>

    <div
      *ngIf="expIconActionDirective && isOpen"
      class="icons_icon-action"
      #iconActionWrapper
      [ngsFocusable]="isOpen"
      [@rotateActionIcon]="{
        value: isOpen,
        params: { duration: animationDuration, easing: animationEasing }
      }"
      ngsFocusableSelector="button"
    >
      <ng-container
        [ngTemplateOutlet]="expIconActionDirective.templateRef"
      ></ng-container>
    </div>
  </div>

  <span
    class="icons"
    [class.icons--active]="isOpen"
    [@swapIcons]="{
      value: isOpen,
      params: { duration: animationDuration, easing: animationEasing }
    }"
  >
    <span
      *ngIf="isOpen"
      class="icons_icon-close"
      (click)="close()"
      [ngsFocusable]="isOpen"
      ngsFocusableSelector="button"
    >
      <ng-container
        [ngTemplateOutlet]="iconCloseDirective.templateRef"
      ></ng-container>
    </span>

    <span
      *ngIf="!isOpen"
      class="icons_icon-open"
      (click)="open()"
      [ngsFocusable]="!isOpen"
      ngsFocusableSelector="button"
    >
      <ng-container
        [ngTemplateOutlet]="iconOpenDirective.templateRef"
      ></ng-container>
    </span>
  </span>
</div>
