<h2 class="mb-4">Examples using Material components</h2>

<ngs-code-snippets
  title="Without action button"
  [snippets]="snippets['basic']"
  expanded="true"
>
  <div *ngsSnippetDescription>
    <p class="mb-2">
      This is an example of expandable input using
      <a href="https://material.angular.io/" target="_blank">
        Angular Material
      </a>
      for the input and icon buttons. Small amount of CSS adjustments needed to
      make things align and have good amount of spacing.
    </p>
    <p class="mb-2">
      Note, there's a bit of a weird behavior with a shadow of the button. It's
      especially visible on a light theme. The shadow rotates together with the
      button. This is how browsers work today. It's not an issue with the
      library. However, that's not the desired behavior. See an example with
      reusable component which shows how to fix it.
    </p>
    <p>
      In your application you would probably want to create a reusable component
      that encapsulates all customization that you've done to make component
      work well with your design system. See example with reusable component
      below.
    </p>
  </div>

  <ng-container *ngsSnippetResult>
    <ngs-expandable-input>
      <mat-form-field *ngsExpInput>
        <mat-label>Search</mat-label>
        <input type="text" matInput />
      </mat-form-field>

      <button type="button" mat-mini-fab color="primary" *ngsExpIconOpen>
        <mat-icon>search</mat-icon>
      </button>

      <button type="button" mat-mini-fab *ngsExpIconClose>
        <mat-icon>close</mat-icon>
      </button>
    </ngs-expandable-input>
  </ng-container>
</ngs-code-snippets>

<ngs-code-snippets
  title="As a reusable component"
  [snippets]="snippets['reusable']"
  expanded="false"
>
  <div *ngsSnippetDescription>
    The example below shows how to create a reusable component based on the
    expandable-input. It also showcases the use of
    <code>[iconOpenAnimation]</code>, <code>[iconCloseAnimation]</code>, and
    <code>[iconActionAnimation]</code> inputs to get around the issue with
    rotating shadow seen in the example above.
  </div>

  <ng-container *ngsSnippetResult>
    <ngs-material-expandable-input>
      <mat-form-field *ngsExpInput>
        <input matInput placeholder="Search" />
      </mat-form-field>

      <button *ngsExpIconOpen mat-mini-fab color="primary">
        <mat-icon matRipple>search</mat-icon>
      </button>

      <button *ngsExpIconClose mat-mini-fab>
        <mat-icon matRipple>close</mat-icon>
      </button>
    </ngs-material-expandable-input>
  </ng-container>
</ngs-code-snippets>

<ngs-code-snippets
  title="With action button"
  [snippets]="snippets['withAction']"
  expanded="false"
>
  <ng-container *ngsSnippetResult>
    <ngs-expandable-input
      [iconOpenAnimation]="iconOpenAnimation"
      [iconCloseAnimation]="iconCloseAnimation"
      [iconActionAnimation]="iconCloseAnimation"
    >
      <mat-form-field *ngsExpInput>
        <mat-label>Search</mat-label>
        <input type="text" matInput />
      </mat-form-field>

      <button type="button" mat-mini-fab color="primary" *ngsExpIconOpen>
        <mat-icon>search</mat-icon>
      </button>

      <button type="button" mat-mini-fab color="primary" *ngsExpIconAction>
        <mat-icon>build</mat-icon>
      </button>

      <button type="button" mat-mini-fab *ngsExpIconClose>
        <mat-icon>close</mat-icon>
      </button>
    </ngs-expandable-input>
  </ng-container>
</ngs-code-snippets>

<ngs-code-snippets
  title="Hiding sibling element"
  [snippets]="snippets['hidingSibling']"
  expanded="false"
>
  <p *ngsSnippetDescription>
    This is rather a unique situation, but you might encounter it too. One of
    the common usages of the expandable input is a "search" input. You might
    have other navigation elements/buttons present next to the expandable input
    and you might want to hide these elements when expandable input expands.
    This library provides couple utility animations that aid in achieving
    desired effect. See example below.
  </p>

  <ng-container *ngsSnippetResult>
    <div class="flex items-baseline" [@gap]="expInp.isOpen">
      <button
        type="button"
        mat-mini-fab
        [@smoothHorizontalCollapse]="expInp.isOpen"
      >
        <mat-icon>pets</mat-icon>
      </button>

      <ngs-expandable-input
        #expInp
        class="flex-1"
        [iconOpenAnimation]="iconOpenAnimation"
        [iconCloseAnimation]="iconCloseAnimation"
      >
        <mat-form-field *ngsExpInput>
          <mat-label>Search</mat-label>
          <input type="text" matInput />
        </mat-form-field>

        <button type="button" mat-mini-fab color="primary" *ngsExpIconOpen>
          <mat-icon>search</mat-icon>
        </button>

        <button type="button" mat-mini-fab *ngsExpIconClose>
          <mat-icon>close</mat-icon>
        </button>
      </ngs-expandable-input>

      <button
        type="button"
        mat-raised-button
        color="primary"
        style="top: -7px"
        [@smoothHorizontalCollapse]="expInp.isOpen"
      >
        Some Element
      </button>
    </div>
  </ng-container>
</ngs-code-snippets>
