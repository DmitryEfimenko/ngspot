import { ChangeDetectionStrategy, Component, inject } from '@angular/core';
import { FormBuilder, ReactiveFormsModule, Validators } from '@angular/forms';

import { NgxErrorsModule } from '@ngspot/ngx-errors';

@Component({
  selector: 'ngs-reactive-forms-demo',
  standalone: true,
  imports: [ReactiveFormsModule, NgxErrorsModule],
  changeDetection: ChangeDetectionStrategy.OnPush,
  styles: [
    `
      [ngxerror] {
        color: red;
      }
    `,
  ],
  template: `
    <form [formGroup]="form">
      <label>
        First Name:
        <input formControlName="name" />
      </label>

      <div ngxErrors="name">
        <div ngxError="required">Name is required</div>
      </div>
    </form>
  `,
})
export class ReactiveFormsDemoComponent {
  private fb = inject(FormBuilder);

  form = this.fb.group({
    name: this.fb.control('', { validators: [Validators.required] }),
  });
}
